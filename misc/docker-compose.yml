services:

  actual-budget:
    image: actualbudget/actual-server:latest
    container_name: actual-budget
    restart: unless-stopped
    ports:
      - 5006:5006
    volumes:
      - ${DATADIR}/actual-server/data:/data
    networks:
      - caddy
    labels:
      # Caddy
      caddy: budget.${WEBSITE}
      caddy.reverse_proxy: "{{upstreams 5006}}"
      # Plato
      com.plato.category: "Botnet"
      com.plato.subtitle: "Manage Money"
      com.plato.importance: 2

  jbb:
    image: josefilipeferreira/jbb.py
    container_name: jbb
    volumes:
      - ${DATADIR}/jbb/config.yaml:/config.yaml
      - ${DATADIR}/jbb/db:/db
      - ${DATADIR}/jbb/media:/media
      - ${DATADIR}/jbb/music:/music
    restart: unless-stopped

  bentopdf:
    image: bentopdf/bentopdf-simple:latest
    container_name: bentopdf
    ports:
      - 3004:8080
    restart: unless-stopped
    networks:
      - caddy
    labels:
      # Caddy
      caddy: pdf.${WEBSITE}
      caddy.reverse_proxy: "{{upstreams 8080}}"
      # Plato
      com.plato.category: "Utilities"
      com.plato.subtitle: "PDF Operations"
      com.plato.importance: 2

  planning-poker:
    image: docker.io/axeleroy/self-host-planning-poker
    container_name: planning-poker
    ports:
      - 8666:8000
    volumes:
      - ${DATADIR}/planning-poker/data:/data
    networks:
      - caddy
    labels:
      # Caddy
      caddy: poker.${WEBSITE}
      caddy.reverse_proxy: "{{upstreams 8000}}"
      # Plato
      com.plato.category: "Utilities"
      com.plato.name: "Poker"
      com.plato.subtitle: "Planning Poker"
      com.plato.importance: 1

networks:
  caddy:
    external: true
